@model FootballPitchesBooking.Models.WebsiteStaffModels.RankModel
@{
    ViewBag.Title = "Thêm cấp bậc";
    ViewBag.RANK = "active";
    Layout = "~/Views/Shared/_WebsiteStaffLayout.cshtml";
}

<h2>Thêm Cấp Bậc</h2>
@if (Model != null && Model.ErrorMessages.Count() > 0)
{
    <div style="color:red">
        @foreach (var error in Model.ErrorMessages)
        {
            <p>- @error</p>
        }
    </div>
}

<script type="text/ecmascript">
    function check() {
        var flag = 0;
        var rankname = $("#txtRankName").val();
        var point = $("#txtPoint").val();

        if (rankname.length < 4 || rankname.length > 30) {
            $("#RankName_Error").text("Tên cấp bậc phải từ 4 đến 30 kí tự");
            $("#RankName_Error").css("display", "block");
            flag++;
        }
        else {
            $("#RankName_Error").text(" ");
            $("#RankName_Error").css("display", "none");
        }

        if (point == "") {
            $("#RankPoint_Error").text("Xin nhập điểm tối thiểu");
            $("#RankPoint_Error").css("display", "block");
            flag++;
        }
        else {
            $("#RankPoint_Error").text(" ");
            $("#RankPoint_Error").css("display", "none");
        }

        if (flag > 0) {
            return false;
        } else return true;
    }
</script>

<form action="AddMemberRank" method="post">
    <table> 
        <tr>
            <td style="height: 60px;">Cấp bậc:</td>
            <td style="height: 60px;"><input type="text" id="txtRankName" name="RankName" required ="required" value="" /></td>
            <td style="height: 60px;"><div class="alert alert-danger" id="RankName_Error" style="display: none" /></td>
        </tr>
        <tr>
            <td style="height: 60px;">Điểm tối thiểu:</td>
            <td style="height: 60px;"><input type="text" name="Point" id="txtPoint" required ="required" value="" /></td>
            <script type="text/javascript">
                $('#txtPoint').keyup(function (event) {
                    if (isNaN(String.fromCharCode(event.which))) {
                        var value = $(this).val();
                        $(this).val(value.substr(0, value.length - 1));
                    }
                });
            </script>
            <td style="height: 60px;"><div class="alert alert-danger" id="RankPoint_Error" style="display: none" /></td>
        </tr>
        <tr>
            <td style="height: 60px;">Phần thưởng:</td>
            <td style="height: 60px;"><input type="text" name="Promotion" value="" /></td>
        </tr> 
        
        <tr>
            <td style="height: 60px;" colspan="2">
                <button type="button" onclick="window.location = '/WebsiteStaff/MemberRanks'" class="btn btn-primary btn-large book-now pull-right groupbtn">Huỷ bỏ</button>
                <button type="submit" onclick="return check()" class="btn btn-primary btn-large book-now pull-right groupbtn">Lưu</button>
            </td>
        </tr>
    </table>
</form>