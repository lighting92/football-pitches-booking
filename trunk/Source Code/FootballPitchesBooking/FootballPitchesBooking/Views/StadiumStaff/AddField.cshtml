@model FootballPitchesBooking.Models.StadiumStaffModels.AddFieldModel
@{
    ViewBag.Title = "Thêm Sân Con";
    ViewBag.Stadium = "active";
    Layout = "~/Views/Shared/_StadiumStaffLayout.cshtml";
}

<div class="row stadiumstaff-add-field">
    <div class="span12">
        <div class="row">
            @if (Model.HavePermission)
            {
                if (Model.Prices != null && Model.Prices.Count > 0)
                {
                <div class="span9">
                    <form action="AddField?Stadium=@Request.QueryString["Stadium"]" method="post" class="form-horizontal" enctype="multipart/form-data">
                        <fieldset>
                            <br />
                            <br />
                            <h1>Thêm Sân Con
                            </h1>
                            <h4>HỆ THỐNG SÂN <a href="/StadiumStaff/Fields?Stadium=@Model.StadiumId">@Model.StadiumName</a> : <i>@Model.StadiumAddress</i></h4>
                            <br />
                            @if (Model.ErrorMessages != null && Model.ErrorMessages.Count() > 0)
                            {
                                <div class="alert alert-danger">
                                    @foreach (var error in Model.ErrorMessages)
                                    {
                                        <p>- @error</p>
                                    }
                                </div>
                            }
                            <div class="row">
                                <div class="span8">
                                    <legend><span>THÔNG TIN CƠ BẢN</span></legend>
                                </div>
                                <div class="span3">
                                    <label>
                                        TÊN SÂN CON
                                    <input name="Number" type="text" placeholder="TÊN SÂN CON" value="@Model.Number">
                                    </label>
                                </div>
                                <div class="span3">
                                    <label>
                                        TRẠNG THÁI HOẠT ĐỘNG
                                    <select id="isActive" name="IsActive" data-cur="@Model.IsActive">
                                        <option value="True">ĐANG HOẠT ĐỘNG</option>
                                        <option value="False">KHÔNG HOẠT ĐỘNG</option>
                                    </select>
                                        <script type="text/javascript">
                                            $(document).ready(function () {
                                                $("#isActive").val($("#isActive").data("cur"));
                                            });
                                        </script>
                                    </label>
                                </div>
                                <div class="span3" style="visibility: hidden;">
                                    <label>&nbsp</label>
                                    <input type="text">
                                </div>
                                <div class="span3">
                                    <label>
                                        KIỂU SÂN
                                    <select id="fieldType" name="FieldType" data-cur="@Model.FieldType">
                                        <option value="5">5 người</option>
                                        <option value="7">7 người</option>
                                        <option value="11">11 người</option>
                                    </select>
                                        <script type="text/javascript">
                                            $(document).ready(function () {
                                                $("#fieldType").val($("#fieldType").data("cur"));
                                            });
                                        </script>
                                    </label>
                                </div>
                                <div class="span3">
                                    <label>
                                        TÁCH TỪ SÂN
                                    <select id="parent" name="Parent" data-cur="@Model.ChosenParent">
                                        <option value="null">Sân Rời</option>
                                        @if (Model.Parent != null)
                                        {
                                            foreach (var item in Model.Parent)
                                            {
                                            <option value="@item.Id">Sân @item.Number - Sân @item.FieldType người</option>
                                            }
                                        }
                                    </select>
                                        <script type="text/javascript">
                                            $(document).ready(function () {
                                                $("#parent").val($("#parent").data("cur"));
                                            });
                                        </script>
                                    </label>
                                </div>
                                <div class="span3">
                                    <label>
                                        BẢNG GIÁ
                                    <select id="fieldPrice" name="FieldPrice" data-cur="@Model.ChosenPrice">
                                        @foreach (var item in Model.Prices)
                                        {
                                            <option value="@item.Id">@item.FieldPriceName</option>
                                        }
                                    </select>
                                         <script type="text/javascript">
                                             $(document).ready(function () {
                                                 $("#fieldPrice").val($("#fieldPrice").data("cur"));
                                             });
                                        </script>
                                    </label>
                                </div>
                            </div>
                            <br />
                            <div class="row">
                                <div class="span9">
                                    <br />
                                    <button type="button" onclick="window.location='/StadiumStaff/Fields?Stadium=@Request.QueryString["Stadium"]'" class="btn btn-primary btn-large book-now pull-right groupbtn">Quay Lại</button>
                                    <button type="submit" class="btn btn-primary btn-large book-now pull-right groupbtn">Thêm Sân Con</button>
                                    <br />
                                    <br />
                                </div>
                            </div>
                        </fieldset>
                    </form>
                </div>
                }
                else
                {
                <h5>Bạn cần thêm bảng giá cho hệ thống trước khi thêm sân con vào hệ thống.<br />
                    Click vào <a href="/StadiumStaff/AddFieldPrices?Stadium=@Request.QueryString["Stadium"]">đây</a> để đến trang thêm bảng giá.</h5>
                }
            }
            else            
            {
                foreach (var item in Model.ErrorMessages)
                {
                    <h3>@item</h3>
                }
            }
        </div>
    </div>
</div>
